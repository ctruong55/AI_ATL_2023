<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HomeQuest</title>
    <style>*{margin:0;padding:0;} html,body,iframe{width: 100%; height: 100%; border: none;}</style>
</head>
<body>
    <div id="typeform-container" data-tf-live="01HFHVHJHK8ZTAG4ZTVCHH6RMA"></div>
    <script src="https://embed.typeform.com/next/embed.js"></script>
    <script>
        const typeformIframe = document.querySelector('#typeform-container iframe');

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.attributeName === 'style') {
                    const height = typeformIframe.style.height;
                    // Assume the survey is complete if the iframe height is less than a certain threshold
                    if (parseInt(height) < 100) { // Adjust threshold as needed
                        window.location.href = 'loading.html'; // Redirect to loading page
                    }
                }
            });
        });

        observer.observe(typeformIframe, { attributes: true });
    </script>

    <script>
    // Set the time you want to show the loading screen (in milliseconds)
    var loadingTime = 160000; // For example, 5000 milliseconds (5 seconds)

    setTimeout(function() {
        window.location.href = 'loading.html'; // Redirect to results.html after the loading time
    }, loadingTime);
    </script>
</body>
</html>
